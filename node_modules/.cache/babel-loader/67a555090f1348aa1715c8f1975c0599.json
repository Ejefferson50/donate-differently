{"ast":null,"code":"/*\r\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\r\n * the License. A copy of the License is located at\r\n *\r\n *     http://aws.amazon.com/apache2.0/\r\n *\r\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\r\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\r\n * and limitations under the License.\r\n */\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport * as React from 'react';\nimport { I18n, ConsoleLogger as Logger } from '@aws-amplify/core';\nimport { Auth } from '@aws-amplify/auth';\nimport AmplifyTheme from '../Amplify-UI/Amplify-UI-Theme';\nimport { FormSection, SectionHeader, SectionBody, SectionFooter, InputLabel, Input, Button, Toast } from '../Amplify-UI/Amplify-UI-Components-React';\nimport { totpQrcode } from '@aws-amplify/ui';\nimport QRCode from 'qrcode.react';\nvar logger = new Logger('TOTPSetupComp');\n\nvar TOTPSetupComp =\n/** @class */\nfunction (_super) {\n  __extends(TOTPSetupComp, _super);\n\n  function TOTPSetupComp(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.setup = _this.setup.bind(_this);\n    _this.showSecretCode = _this.showSecretCode.bind(_this);\n    _this.verifyTotpToken = _this.verifyTotpToken.bind(_this);\n    _this.handleInputChange = _this.handleInputChange.bind(_this);\n    _this.triggerTOTPEvent = _this.triggerTOTPEvent.bind(_this);\n    _this.state = {\n      code: null,\n      setupMessage: null\n    };\n    return _this;\n  }\n\n  TOTPSetupComp.prototype.componentDidMount = function () {\n    this.setup();\n  };\n\n  TOTPSetupComp.prototype.triggerTOTPEvent = function (event, data, user) {\n    if (this.props.onTOTPEvent) {\n      this.props.onTOTPEvent(event, data, user);\n    }\n  };\n\n  TOTPSetupComp.prototype.handleInputChange = function (evt) {\n    this.setState({\n      setupMessage: null\n    });\n    this.inputs = {};\n    var _a = evt.target,\n        name = _a.name,\n        value = _a.value,\n        type = _a.type,\n        checked = _a.checked; // @ts-ignore\n\n    var check_type = ['radio', 'checkbox'].includes(type);\n    this.inputs[name] = check_type ? checked : value;\n  };\n\n  TOTPSetupComp.prototype.setup = function () {\n    var _this = this;\n\n    this.setState({\n      setupMessage: null\n    });\n    var user = this.props.authData;\n    var issuer = encodeURI(I18n.get('AWSCognito'));\n\n    if (!Auth || typeof Auth.setupTOTP !== 'function') {\n      throw new Error('No Auth module found, please ensure @aws-amplify/auth is imported');\n    }\n\n    Auth.setupTOTP(user).then(function (data) {\n      logger.debug('secret key', data);\n      var code = 'otpauth://totp/' + issuer + ':' + user.username + '?secret=' + data + '&issuer=' + issuer;\n\n      _this.setState({\n        code: code\n      });\n    }).catch(function (err) {\n      return logger.debug('totp setup failed', err);\n    });\n  };\n\n  TOTPSetupComp.prototype.verifyTotpToken = function () {\n    var _this = this;\n\n    if (!this.inputs) {\n      logger.debug('no input');\n      return;\n    }\n\n    var user = this.props.authData;\n    var totpCode = this.inputs.totpCode;\n\n    if (!Auth || typeof Auth.verifyTotpToken !== 'function' || typeof Auth.setPreferredMFA !== 'function') {\n      throw new Error('No Auth module found, please ensure @aws-amplify/auth is imported');\n    }\n\n    return Auth.verifyTotpToken(user, totpCode).then(function () {\n      // set it to preferred mfa\n      return Auth.setPreferredMFA(user, 'TOTP').then(function () {\n        _this.setState({\n          setupMessage: 'Setup TOTP successfully!'\n        });\n\n        logger.debug('set up totp success!');\n\n        _this.triggerTOTPEvent('Setup TOTP', 'SUCCESS', user);\n      }).catch(function (err) {\n        _this.setState({\n          setupMessage: 'Setup TOTP failed!'\n        });\n\n        logger.error(err);\n      });\n    }).catch(function (err) {\n      _this.setState({\n        setupMessage: 'Setup TOTP failed!'\n      });\n\n      logger.error(err);\n    });\n  };\n\n  TOTPSetupComp.prototype.showSecretCode = function (code, theme) {\n    if (!code) return null;\n    return React.createElement(\"div\", null, React.createElement(\"div\", {\n      className: totpQrcode\n    }, React.createElement(QRCode, {\n      value: code\n    })), React.createElement(InputLabel, {\n      theme: theme\n    }, I18n.get('Enter Security Code:')), React.createElement(Input, {\n      autoFocus: true,\n      theme: theme,\n      key: \"totpCode\",\n      name: \"totpCode\",\n      onChange: this.handleInputChange\n    }));\n  };\n\n  TOTPSetupComp.prototype.render = function () {\n    var theme = this.props.theme ? this.props.theme : AmplifyTheme;\n    var code = this.state.code;\n    return React.createElement(FormSection, {\n      theme: theme\n    }, this.state.setupMessage && React.createElement(Toast, null, I18n.get(this.state.setupMessage)), React.createElement(SectionHeader, {\n      theme: theme\n    }, I18n.get('Scan then enter verification code')), React.createElement(SectionBody, {\n      theme: theme\n    }, this.showSecretCode(code, theme), this.state.setupMessage && I18n.get(this.state.setupMessage)), React.createElement(SectionFooter, {\n      theme: theme\n    }, React.createElement(Button, {\n      theme: theme,\n      onClick: this.verifyTotpToken,\n      style: {\n        width: '100%'\n      }\n    }, I18n.get('Verify Security Token'))));\n  };\n\n  return TOTPSetupComp;\n}(React.Component);\n\nexport { TOTPSetupComp };\n/**\r\n * @deprecated use named import\r\n */\n\nexport default TOTPSetupComp;","map":{"version":3,"sources":["../../src/Widget/TOTPSetupComp.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\r\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\r\n * the License. A copy of the License is located at\r\n *\r\n *     http://aws.amazon.com/apache2.0/\r\n *\r\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\r\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\r\n * and limitations under the License.\r\n */\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport * as React from 'react';\r\nimport { I18n, ConsoleLogger as Logger } from '@aws-amplify/core';\r\nimport { Auth } from '@aws-amplify/auth';\r\nimport AmplifyTheme from '../Amplify-UI/Amplify-UI-Theme';\r\nimport { FormSection, SectionHeader, SectionBody, SectionFooter, InputLabel, Input, Button, Toast, } from '../Amplify-UI/Amplify-UI-Components-React';\r\nimport { totpQrcode } from '@aws-amplify/ui';\r\nimport QRCode from 'qrcode.react';\r\nvar logger = new Logger('TOTPSetupComp');\r\nvar TOTPSetupComp = /** @class */ (function (_super) {\r\n    __extends(TOTPSetupComp, _super);\r\n    function TOTPSetupComp(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.setup = _this.setup.bind(_this);\r\n        _this.showSecretCode = _this.showSecretCode.bind(_this);\r\n        _this.verifyTotpToken = _this.verifyTotpToken.bind(_this);\r\n        _this.handleInputChange = _this.handleInputChange.bind(_this);\r\n        _this.triggerTOTPEvent = _this.triggerTOTPEvent.bind(_this);\r\n        _this.state = {\r\n            code: null,\r\n            setupMessage: null,\r\n        };\r\n        return _this;\r\n    }\r\n    TOTPSetupComp.prototype.componentDidMount = function () {\r\n        this.setup();\r\n    };\r\n    TOTPSetupComp.prototype.triggerTOTPEvent = function (event, data, user) {\r\n        if (this.props.onTOTPEvent) {\r\n            this.props.onTOTPEvent(event, data, user);\r\n        }\r\n    };\r\n    TOTPSetupComp.prototype.handleInputChange = function (evt) {\r\n        this.setState({ setupMessage: null });\r\n        this.inputs = {};\r\n        var _a = evt.target, name = _a.name, value = _a.value, type = _a.type, checked = _a.checked;\r\n        // @ts-ignore\r\n        var check_type = ['radio', 'checkbox'].includes(type);\r\n        this.inputs[name] = check_type ? checked : value;\r\n    };\r\n    TOTPSetupComp.prototype.setup = function () {\r\n        var _this = this;\r\n        this.setState({ setupMessage: null });\r\n        var user = this.props.authData;\r\n        var issuer = encodeURI(I18n.get('AWSCognito'));\r\n        if (!Auth || typeof Auth.setupTOTP !== 'function') {\r\n            throw new Error('No Auth module found, please ensure @aws-amplify/auth is imported');\r\n        }\r\n        Auth.setupTOTP(user)\r\n            .then(function (data) {\r\n            logger.debug('secret key', data);\r\n            var code = 'otpauth://totp/' +\r\n                issuer +\r\n                ':' +\r\n                user.username +\r\n                '?secret=' +\r\n                data +\r\n                '&issuer=' +\r\n                issuer;\r\n            _this.setState({ code: code });\r\n        })\r\n            .catch(function (err) { return logger.debug('totp setup failed', err); });\r\n    };\r\n    TOTPSetupComp.prototype.verifyTotpToken = function () {\r\n        var _this = this;\r\n        if (!this.inputs) {\r\n            logger.debug('no input');\r\n            return;\r\n        }\r\n        var user = this.props.authData;\r\n        var totpCode = this.inputs.totpCode;\r\n        if (!Auth ||\r\n            typeof Auth.verifyTotpToken !== 'function' ||\r\n            typeof Auth.setPreferredMFA !== 'function') {\r\n            throw new Error('No Auth module found, please ensure @aws-amplify/auth is imported');\r\n        }\r\n        return Auth.verifyTotpToken(user, totpCode)\r\n            .then(function () {\r\n            // set it to preferred mfa\r\n            return Auth.setPreferredMFA(user, 'TOTP')\r\n                .then(function () {\r\n                _this.setState({ setupMessage: 'Setup TOTP successfully!' });\r\n                logger.debug('set up totp success!');\r\n                _this.triggerTOTPEvent('Setup TOTP', 'SUCCESS', user);\r\n            })\r\n                .catch(function (err) {\r\n                _this.setState({ setupMessage: 'Setup TOTP failed!' });\r\n                logger.error(err);\r\n            });\r\n        })\r\n            .catch(function (err) {\r\n            _this.setState({ setupMessage: 'Setup TOTP failed!' });\r\n            logger.error(err);\r\n        });\r\n    };\r\n    TOTPSetupComp.prototype.showSecretCode = function (code, theme) {\r\n        if (!code)\r\n            return null;\r\n        return (React.createElement(\"div\", null,\r\n            React.createElement(\"div\", { className: totpQrcode },\r\n                React.createElement(QRCode, { value: code })),\r\n            React.createElement(InputLabel, { theme: theme }, I18n.get('Enter Security Code:')),\r\n            React.createElement(Input, { autoFocus: true, theme: theme, key: \"totpCode\", name: \"totpCode\", onChange: this.handleInputChange })));\r\n    };\r\n    TOTPSetupComp.prototype.render = function () {\r\n        var theme = this.props.theme ? this.props.theme : AmplifyTheme;\r\n        var code = this.state.code;\r\n        return (React.createElement(FormSection, { theme: theme },\r\n            this.state.setupMessage && (React.createElement(Toast, null, I18n.get(this.state.setupMessage))),\r\n            React.createElement(SectionHeader, { theme: theme }, I18n.get('Scan then enter verification code')),\r\n            React.createElement(SectionBody, { theme: theme },\r\n                this.showSecretCode(code, theme),\r\n                this.state.setupMessage && I18n.get(this.state.setupMessage)),\r\n            React.createElement(SectionFooter, { theme: theme },\r\n                React.createElement(Button, { theme: theme, onClick: this.verifyTotpToken, style: { width: '100%' } }, I18n.get('Verify Security Token')))));\r\n    };\r\n    return TOTPSetupComp;\r\n}(React.Component));\r\nexport { TOTPSetupComp };\r\n/**\r\n * @deprecated use named import\r\n */\r\nexport default TOTPSetupComp;\r\n//# sourceMappingURL=TOTPSetupComp.js.map"]},"metadata":{},"sourceType":"module"}