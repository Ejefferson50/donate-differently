'use strict';

const signals = ['SIGINT', 'SIGTERM'];

function setupExitSignals(serverData) {
  signals.forEach((signal) => {
    process.on(signal, () => {
<<<<<<< HEAD
      if (serverData.server) {
=======
<<<<<<< HEAD
      if (serverData.server) {
=======
<<<<<<< HEAD
      if (serverData.server) {
=======
      if (serverData && serverData.server) {
>>>>>>> b9690f13ae0b02552662ffbd680e2069f9283c9e
>>>>>>> 71cc80d5c04c1d732a53d72b3d4830571f913b17
>>>>>>> d73b1f44f038f8f47fb4f029bc08a770a21d43c1
        serverData.server.close(() => {
          // eslint-disable-next-line no-process-exit
          process.exit();
        });
      } else {
        // eslint-disable-next-line no-process-exit
        process.exit();
      }
    });
  });
}

module.exports = setupExitSignals;
